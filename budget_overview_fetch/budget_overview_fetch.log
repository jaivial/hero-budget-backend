2025/06/13 19:57:21 Using database at: /Users/usuario/Documents/PROYECTOS/herobudgetflutter/hero_budget/backend/google_auth/users.db
2025/06/13 19:57:21 Database connection established successfully
2025/06/13 19:57:21 Budget Overview Fetch service starting on port 8098
2025/06/13 19:58:41 🔍 No data found for current period, searching for historical data to inherit...
2025/06/13 19:58:41 ⚠️  No historical data found for user 9 in table monthly_cash_bank_balance after searching 24 periods backwards from 2025-06
2025/06/13 19:58:41 🧮 Budget calculation breakdown for period monthly, date 2025-06:
2025/06/13 19:58:41    💰 Total Income: 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 19:58:41    💸 Spent Amount (expenses only): 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 19:58:41    🏷️ Bills Amount: 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 19:58:41    📊 Combined Expense (expenses + bills): 0.00
2025/06/13 19:58:41    💵 Available Balance: 0.00 (Income: 0.00 - Combined Expenses: 0.00)
2025/06/13 19:58:41    📋 Upcoming Bills: 0.00
2025/06/13 19:58:41 💳 Cash/Bank Distribution: Cash=0.00 (0.0%), Bank=0.00 (0.0%), Total=0.00
No savings goal found for user 9: sql: no rows in result set
2025/06/13 19:58:41 🔍 fetchUpcomingBills for month: 2025-06
2025/06/13 19:58:41 🔍 Query: 
			SELECT 
				b.id, b.name, b.amount, 
				CASE 
					WHEN b.recurring = 1 THEN 
						strftime('%Y-%m-%d', 
							date('2025-06-01', '+' || (b.payment_day - 1) || ' days'))
					ELSE b.due_date 
				END as calculated_due_date,
				COALESCE(bp.paid, 0) as month_paid, 
				b.overdue, b.overdue_days, b.recurring, b.category, b.icon,
				b.start_date, b.duration_months, b.payment_day
			FROM bills b 
			LEFT JOIN bill_payments bp ON b.id = bp.bill_id AND bp.year_month = '2025-06'
			WHERE b.user_id = ? AND (
			(b.recurring = 1 AND 
			 strftime('%Y-%m', b.start_date) <= ? AND 
			 strftime('%Y-%m', date(b.start_date, '+' || (b.duration_months - 1) || ' months')) >= ?) OR
			(b.recurring = 0 AND strftime('%Y-%m', b.due_date) = ?)
		) 
			ORDER BY COALESCE(bp.paid, 0) ASC, calculated_due_date ASC
2025/06/13 19:58:41 🔍 Args: [9 2025-06 2025-06 2025-06]
2025/06/13 19:58:41 🔍 No data found for current period, searching for historical data to inherit...
2025/06/13 19:58:41 ⚠️  No historical data found for user 9 in table monthly_cash_bank_balance after searching 24 periods backwards from 2025-06
2025/06/13 19:58:41 🧮 Budget calculation breakdown for period monthly, date 2025-06:
2025/06/13 19:58:41    💰 Total Income: 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 19:58:41    💸 Spent Amount (expenses only): 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 19:58:41    🏷️ Bills Amount: 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 19:58:41    📊 Combined Expense (expenses + bills): 0.00
2025/06/13 19:58:41    💵 Available Balance: 0.00 (Income: 0.00 - Combined Expenses: 0.00)
2025/06/13 19:58:41    📋 Upcoming Bills: 0.00
2025/06/13 19:58:41 💳 Cash/Bank Distribution: Cash=0.00 (0.0%), Bank=0.00 (0.0%), Total=0.00
No savings goal found for user 9: sql: no rows in result set
2025/06/13 20:07:16 🔍 No data found for current period, searching for historical data to inherit...
2025/06/13 20:07:16 🔍 fetchUpcomingBills for month: 2025-06
2025/06/13 20:07:16 🔍 Query: 
			SELECT 
				b.id, b.name, b.amount, 
				CASE 
					WHEN b.recurring = 1 THEN 
						strftime('%Y-%m-%d', 
							date('2025-06-01', '+' || (b.payment_day - 1) || ' days'))
					ELSE b.due_date 
				END as calculated_due_date,
				COALESCE(bp.paid, 0) as month_paid, 
				b.overdue, b.overdue_days, b.recurring, b.category, b.icon,
				b.start_date, b.duration_months, b.payment_day
			FROM bills b 
			LEFT JOIN bill_payments bp ON b.id = bp.bill_id AND bp.year_month = '2025-06'
			WHERE b.user_id = ? AND (
			(b.recurring = 1 AND 
			 strftime('%Y-%m', b.start_date) <= ? AND 
			 strftime('%Y-%m', date(b.start_date, '+' || (b.duration_months - 1) || ' months')) >= ?) OR
			(b.recurring = 0 AND strftime('%Y-%m', b.due_date) = ?)
		) 
			ORDER BY COALESCE(bp.paid, 0) ASC, calculated_due_date ASC
2025/06/13 20:07:16 🔍 Args: [9 2025-06 2025-06 2025-06]
2025/06/13 20:07:16 ⚠️  No historical data found for user 9 in table monthly_cash_bank_balance after searching 24 periods backwards from 2025-06
2025/06/13 20:07:16 🧮 Budget calculation breakdown for period monthly, date 2025-06:
2025/06/13 20:07:16    💰 Total Income: 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 20:07:16    💸 Spent Amount (expenses only): 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 20:07:16    🏷️ Bills Amount: 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 20:07:16    📊 Combined Expense (expenses + bills): 0.00
2025/06/13 20:07:16    💵 Available Balance: 0.00 (Income: 0.00 - Combined Expenses: 0.00)
2025/06/13 20:07:16    📋 Upcoming Bills: 0.00
2025/06/13 20:07:16 💳 Cash/Bank Distribution: Cash=0.00 (0.0%), Bank=0.00 (0.0%), Total=0.00
No savings goal found for user 9: sql: no rows in result set
2025/06/13 20:07:16 🔍 No data found for current period, searching for historical data to inherit...
2025/06/13 20:07:16 ⚠️  No historical data found for user 9 in table monthly_cash_bank_balance after searching 24 periods backwards from 2025-06
2025/06/13 20:07:16 🧮 Budget calculation breakdown for period monthly, date 2025-06:
2025/06/13 20:07:16    💰 Total Income: 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 20:07:16    💸 Spent Amount (expenses only): 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 20:07:16    🏷️ Bills Amount: 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 20:07:16    📊 Combined Expense (expenses + bills): 0.00
2025/06/13 20:07:16    💵 Available Balance: 0.00 (Income: 0.00 - Combined Expenses: 0.00)
2025/06/13 20:07:16    📋 Upcoming Bills: 0.00
2025/06/13 20:07:16 💳 Cash/Bank Distribution: Cash=0.00 (0.0%), Bank=0.00 (0.0%), Total=0.00
No savings goal found for user 9: sql: no rows in result set
2025/06/13 20:18:48 🔍 No data found for current period, searching for historical data to inherit...
2025/06/13 20:18:48 🔍 No data found for current period, searching for historical data to inherit...
2025/06/13 20:18:48 🔍 fetchUpcomingBills for month: 2025-06
2025/06/13 20:18:48 🔍 Query: 
			SELECT 
				b.id, b.name, b.amount, 
				CASE 
					WHEN b.recurring = 1 THEN 
						strftime('%Y-%m-%d', 
							date('2025-06-01', '+' || (b.payment_day - 1) || ' days'))
					ELSE b.due_date 
				END as calculated_due_date,
				COALESCE(bp.paid, 0) as month_paid, 
				b.overdue, b.overdue_days, b.recurring, b.category, b.icon,
				b.start_date, b.duration_months, b.payment_day
			FROM bills b 
			LEFT JOIN bill_payments bp ON b.id = bp.bill_id AND bp.year_month = '2025-06'
			WHERE b.user_id = ? AND (
			(b.recurring = 1 AND 
			 strftime('%Y-%m', b.start_date) <= ? AND 
			 strftime('%Y-%m', date(b.start_date, '+' || (b.duration_months - 1) || ' months')) >= ?) OR
			(b.recurring = 0 AND strftime('%Y-%m', b.due_date) = ?)
		) 
			ORDER BY COALESCE(bp.paid, 0) ASC, calculated_due_date ASC
2025/06/13 20:18:48 🔍 Args: [9 2025-06 2025-06 2025-06]
2025/06/13 20:18:48 ⚠️  No historical data found for user 9 in table monthly_cash_bank_balance after searching 24 periods backwards from 2025-06
2025/06/13 20:18:48 🧮 Budget calculation breakdown for period monthly, date 2025-06:
2025/06/13 20:18:48    💰 Total Income: 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 20:18:48    💸 Spent Amount (expenses only): 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 20:18:48    🏷️ Bills Amount: 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 20:18:48    📊 Combined Expense (expenses + bills): 0.00
2025/06/13 20:18:48    💵 Available Balance: 0.00 (Income: 0.00 - Combined Expenses: 0.00)
2025/06/13 20:18:48    📋 Upcoming Bills: 0.00
2025/06/13 20:18:48 💳 Cash/Bank Distribution: Cash=0.00 (0.0%), Bank=0.00 (0.0%), Total=0.00
No savings goal found for user 9: sql: no rows in result set
2025/06/13 20:18:48 ⚠️  No historical data found for user 9 in table monthly_cash_bank_balance after searching 24 periods backwards from 2025-06
2025/06/13 20:18:48 🧮 Budget calculation breakdown for period monthly, date 2025-06:
2025/06/13 20:18:48    💰 Total Income: 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 20:18:48    💸 Spent Amount (expenses only): 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 20:18:48    🏷️ Bills Amount: 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 20:18:48    📊 Combined Expense (expenses + bills): 0.00
2025/06/13 20:18:48    💵 Available Balance: 0.00 (Income: 0.00 - Combined Expenses: 0.00)
2025/06/13 20:18:48    📋 Upcoming Bills: 0.00
2025/06/13 20:18:48 💳 Cash/Bank Distribution: Cash=0.00 (0.0%), Bank=0.00 (0.0%), Total=0.00
No savings goal found for user 9: sql: no rows in result set
2025/06/13 20:19:22 📊 Balance data found: IncomeBank=3000.00, IncomeCash=0.00, ExpenseBank=0.00, ExpenseCash=0.00, BillBank=0.00, BillCash=0.00, TotalBalance=3000.00
2025/06/13 20:19:22 🧮 Budget calculation breakdown for period monthly, date 2025-06:
2025/06/13 20:19:22    💰 Total Income: 3000.00 (Bank: 3000.00 + Cash: 0.00)
2025/06/13 20:19:22    💸 Spent Amount (expenses only): 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 20:19:22    🏷️ Bills Amount: 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 20:19:22    📊 Combined Expense (expenses + bills): 0.00
2025/06/13 20:19:22    💵 Available Balance: 3000.00 (Income: 3000.00 - Combined Expenses: 0.00)
2025/06/13 20:19:22    📋 Upcoming Bills: 0.00
2025/06/13 20:19:22 💳 Cash/Bank Distribution: Cash=0.00 (0.0%), Bank=3000.00 (100.0%), Total=3000.00
No savings goal found for user 9: sql: no rows in result set
2025/06/13 20:19:22 📊 Balance data found: IncomeBank=3000.00, IncomeCash=0.00, ExpenseBank=0.00, ExpenseCash=0.00, BillBank=0.00, BillCash=0.00, TotalBalance=3000.00
2025/06/13 20:19:22 🧮 Budget calculation breakdown for period monthly, date 2025-06:
2025/06/13 20:19:22    💰 Total Income: 3000.00 (Bank: 3000.00 + Cash: 0.00)
2025/06/13 20:19:22    💸 Spent Amount (expenses only): 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 20:19:22    🏷️ Bills Amount: 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 20:19:22    📊 Combined Expense (expenses + bills): 0.00
2025/06/13 20:19:22    💵 Available Balance: 3000.00 (Income: 3000.00 - Combined Expenses: 0.00)
2025/06/13 20:19:22    📋 Upcoming Bills: 0.00
2025/06/13 20:19:22 💳 Cash/Bank Distribution: Cash=0.00 (0.0%), Bank=3000.00 (100.0%), Total=3000.00
No savings goal found for user 9: sql: no rows in result set
2025/06/13 20:19:23 🔍 fetchUpcomingBills for month: 2025-06
2025/06/13 20:19:23 🔍 Query: 
			SELECT 
				b.id, b.name, b.amount, 
				CASE 
					WHEN b.recurring = 1 THEN 
						strftime('%Y-%m-%d', 
							date('2025-06-01', '+' || (b.payment_day - 1) || ' days'))
					ELSE b.due_date 
				END as calculated_due_date,
				COALESCE(bp.paid, 0) as month_paid, 
				b.overdue, b.overdue_days, b.recurring, b.category, b.icon,
				b.start_date, b.duration_months, b.payment_day
			FROM bills b 
			LEFT JOIN bill_payments bp ON b.id = bp.bill_id AND bp.year_month = '2025-06'
			WHERE b.user_id = ? AND (
			(b.recurring = 1 AND 
			 strftime('%Y-%m', b.start_date) <= ? AND 
			 strftime('%Y-%m', date(b.start_date, '+' || (b.duration_months - 1) || ' months')) >= ?) OR
			(b.recurring = 0 AND strftime('%Y-%m', b.due_date) = ?)
		) 
			ORDER BY COALESCE(bp.paid, 0) ASC, calculated_due_date ASC
2025/06/13 20:19:23 🔍 Args: [9 2025-06 2025-06 2025-06]
2025/06/13 20:20:02 📊 Balance data found: IncomeBank=3000.00, IncomeCash=250.00, ExpenseBank=0.00, ExpenseCash=0.00, BillBank=0.00, BillCash=0.00, TotalBalance=3250.00
2025/06/13 20:20:02 🧮 Budget calculation breakdown for period monthly, date 2025-06:
2025/06/13 20:20:02    💰 Total Income: 3250.00 (Bank: 3000.00 + Cash: 250.00)
2025/06/13 20:20:02    💸 Spent Amount (expenses only): 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 20:20:02    🏷️ Bills Amount: 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 20:20:02    📊 Combined Expense (expenses + bills): 0.00
2025/06/13 20:20:02    💵 Available Balance: 3250.00 (Income: 3250.00 - Combined Expenses: 0.00)
2025/06/13 20:20:02    📋 Upcoming Bills: 0.00
2025/06/13 20:20:02 💳 Cash/Bank Distribution: Cash=250.00 (7.7%), Bank=3000.00 (92.3%), Total=3250.00
No savings goal found for user 9: sql: no rows in result set
2025/06/13 20:20:02 📊 Balance data found: IncomeBank=3000.00, IncomeCash=250.00, ExpenseBank=0.00, ExpenseCash=0.00, BillBank=0.00, BillCash=0.00, TotalBalance=3250.00
2025/06/13 20:20:02 🧮 Budget calculation breakdown for period monthly, date 2025-06:
2025/06/13 20:20:02    💰 Total Income: 3250.00 (Bank: 3000.00 + Cash: 250.00)
2025/06/13 20:20:02    💸 Spent Amount (expenses only): 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 20:20:02    🏷️ Bills Amount: 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 20:20:02    📊 Combined Expense (expenses + bills): 0.00
2025/06/13 20:20:02    💵 Available Balance: 3250.00 (Income: 3250.00 - Combined Expenses: 0.00)
2025/06/13 20:20:02    📋 Upcoming Bills: 0.00
2025/06/13 20:20:02 💳 Cash/Bank Distribution: Cash=250.00 (7.7%), Bank=3000.00 (92.3%), Total=3250.00
No savings goal found for user 9: sql: no rows in result set
2025/06/13 20:20:02 🔍 fetchUpcomingBills for month: 2025-06
2025/06/13 20:20:02 🔍 Query: 
			SELECT 
				b.id, b.name, b.amount, 
				CASE 
					WHEN b.recurring = 1 THEN 
						strftime('%Y-%m-%d', 
							date('2025-06-01', '+' || (b.payment_day - 1) || ' days'))
					ELSE b.due_date 
				END as calculated_due_date,
				COALESCE(bp.paid, 0) as month_paid, 
				b.overdue, b.overdue_days, b.recurring, b.category, b.icon,
				b.start_date, b.duration_months, b.payment_day
			FROM bills b 
			LEFT JOIN bill_payments bp ON b.id = bp.bill_id AND bp.year_month = '2025-06'
			WHERE b.user_id = ? AND (
			(b.recurring = 1 AND 
			 strftime('%Y-%m', b.start_date) <= ? AND 
			 strftime('%Y-%m', date(b.start_date, '+' || (b.duration_months - 1) || ' months')) >= ?) OR
			(b.recurring = 0 AND strftime('%Y-%m', b.due_date) = ?)
		) 
			ORDER BY COALESCE(bp.paid, 0) ASC, calculated_due_date ASC
2025/06/13 20:20:02 🔍 Args: [9 2025-06 2025-06 2025-06]
2025/06/13 20:20:36 📊 Balance data found: IncomeBank=3000.00, IncomeCash=250.00, ExpenseBank=35.00, ExpenseCash=0.00, BillBank=0.00, BillCash=0.00, TotalBalance=3215.00
2025/06/13 20:20:36 🧮 Budget calculation breakdown for period monthly, date 2025-06:
2025/06/13 20:20:36    💰 Total Income: 3250.00 (Bank: 3000.00 + Cash: 250.00)
2025/06/13 20:20:36    💸 Spent Amount (expenses only): 35.00 (Bank: 35.00 + Cash: 0.00)
2025/06/13 20:20:36    🏷️ Bills Amount: 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 20:20:36    📊 Combined Expense (expenses + bills): 35.00
2025/06/13 20:20:36    💵 Available Balance: 3215.00 (Income: 3250.00 - Combined Expenses: 35.00)
2025/06/13 20:20:36    📋 Upcoming Bills: 0.00
2025/06/13 20:20:36 💳 Cash/Bank Distribution: Cash=250.00 (7.8%), Bank=2965.00 (92.2%), Total=3215.00
No savings goal found for user 9: sql: no rows in result set
2025/06/13 20:20:36 📊 Balance data found: IncomeBank=3000.00, IncomeCash=250.00, ExpenseBank=35.00, ExpenseCash=0.00, BillBank=0.00, BillCash=0.00, TotalBalance=3215.00
2025/06/13 20:20:36 🧮 Budget calculation breakdown for period monthly, date 2025-06:
2025/06/13 20:20:36    💰 Total Income: 3250.00 (Bank: 3000.00 + Cash: 250.00)
2025/06/13 20:20:36    💸 Spent Amount (expenses only): 35.00 (Bank: 35.00 + Cash: 0.00)
2025/06/13 20:20:36    🏷️ Bills Amount: 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 20:20:36    📊 Combined Expense (expenses + bills): 35.00
2025/06/13 20:20:36    💵 Available Balance: 3215.00 (Income: 3250.00 - Combined Expenses: 35.00)
2025/06/13 20:20:36    📋 Upcoming Bills: 0.00
2025/06/13 20:20:36 💳 Cash/Bank Distribution: Cash=250.00 (7.8%), Bank=2965.00 (92.2%), Total=3215.00
No savings goal found for user 9: sql: no rows in result set
2025/06/13 20:20:36 🔍 fetchUpcomingBills for month: 2025-06
2025/06/13 20:20:36 🔍 Query: 
			SELECT 
				b.id, b.name, b.amount, 
				CASE 
					WHEN b.recurring = 1 THEN 
						strftime('%Y-%m-%d', 
							date('2025-06-01', '+' || (b.payment_day - 1) || ' days'))
					ELSE b.due_date 
				END as calculated_due_date,
				COALESCE(bp.paid, 0) as month_paid, 
				b.overdue, b.overdue_days, b.recurring, b.category, b.icon,
				b.start_date, b.duration_months, b.payment_day
			FROM bills b 
			LEFT JOIN bill_payments bp ON b.id = bp.bill_id AND bp.year_month = '2025-06'
			WHERE b.user_id = ? AND (
			(b.recurring = 1 AND 
			 strftime('%Y-%m', b.start_date) <= ? AND 
			 strftime('%Y-%m', date(b.start_date, '+' || (b.duration_months - 1) || ' months')) >= ?) OR
			(b.recurring = 0 AND strftime('%Y-%m', b.due_date) = ?)
		) 
			ORDER BY COALESCE(bp.paid, 0) ASC, calculated_due_date ASC
2025/06/13 20:20:36 🔍 Args: [9 2025-06 2025-06 2025-06]
2025/06/13 20:21:06 📊 Balance data found: IncomeBank=3000.00, IncomeCash=250.00, ExpenseBank=40.00, ExpenseCash=0.00, BillBank=0.00, BillCash=0.00, TotalBalance=3210.00
2025/06/13 20:21:06 🧮 Budget calculation breakdown for period monthly, date 2025-06:
2025/06/13 20:21:06    💰 Total Income: 3250.00 (Bank: 3000.00 + Cash: 250.00)
2025/06/13 20:21:06    💸 Spent Amount (expenses only): 40.00 (Bank: 40.00 + Cash: 0.00)
2025/06/13 20:21:06    🏷️ Bills Amount: 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 20:21:06    📊 Combined Expense (expenses + bills): 40.00
2025/06/13 20:21:06    💵 Available Balance: 3210.00 (Income: 3250.00 - Combined Expenses: 40.00)
2025/06/13 20:21:06    📋 Upcoming Bills: 0.00
2025/06/13 20:21:06 💳 Cash/Bank Distribution: Cash=250.00 (7.8%), Bank=2960.00 (92.2%), Total=3210.00
No savings goal found for user 9: sql: no rows in result set
2025/06/13 20:21:06 📊 Balance data found: IncomeBank=3000.00, IncomeCash=250.00, ExpenseBank=40.00, ExpenseCash=0.00, BillBank=0.00, BillCash=0.00, TotalBalance=3210.00
2025/06/13 20:21:06 🧮 Budget calculation breakdown for period monthly, date 2025-06:
2025/06/13 20:21:06    💰 Total Income: 3250.00 (Bank: 3000.00 + Cash: 250.00)
2025/06/13 20:21:06    💸 Spent Amount (expenses only): 40.00 (Bank: 40.00 + Cash: 0.00)
2025/06/13 20:21:06    🏷️ Bills Amount: 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 20:21:06    📊 Combined Expense (expenses + bills): 40.00
2025/06/13 20:21:06    💵 Available Balance: 3210.00 (Income: 3250.00 - Combined Expenses: 40.00)
2025/06/13 20:21:06    📋 Upcoming Bills: 0.00
2025/06/13 20:21:06 💳 Cash/Bank Distribution: Cash=250.00 (7.8%), Bank=2960.00 (92.2%), Total=3210.00
No savings goal found for user 9: sql: no rows in result set
2025/06/13 20:21:06 🔍 fetchUpcomingBills for month: 2025-06
2025/06/13 20:21:06 🔍 Query: 
			SELECT 
				b.id, b.name, b.amount, 
				CASE 
					WHEN b.recurring = 1 THEN 
						strftime('%Y-%m-%d', 
							date('2025-06-01', '+' || (b.payment_day - 1) || ' days'))
					ELSE b.due_date 
				END as calculated_due_date,
				COALESCE(bp.paid, 0) as month_paid, 
				b.overdue, b.overdue_days, b.recurring, b.category, b.icon,
				b.start_date, b.duration_months, b.payment_day
			FROM bills b 
			LEFT JOIN bill_payments bp ON b.id = bp.bill_id AND bp.year_month = '2025-06'
			WHERE b.user_id = ? AND (
			(b.recurring = 1 AND 
			 strftime('%Y-%m', b.start_date) <= ? AND 
			 strftime('%Y-%m', date(b.start_date, '+' || (b.duration_months - 1) || ' months')) >= ?) OR
			(b.recurring = 0 AND strftime('%Y-%m', b.due_date) = ?)
		) 
			ORDER BY COALESCE(bp.paid, 0) ASC, calculated_due_date ASC
2025/06/13 20:21:06 🔍 Args: [9 2025-06 2025-06 2025-06]
2025/06/13 20:21:40 📊 Balance data found: IncomeBank=3000.00, IncomeCash=250.00, ExpenseBank=40.00, ExpenseCash=2.00, BillBank=0.00, BillCash=0.00, TotalBalance=3208.00
2025/06/13 20:21:40 🧮 Budget calculation breakdown for period monthly, date 2025-06:
2025/06/13 20:21:40    💰 Total Income: 3250.00 (Bank: 3000.00 + Cash: 250.00)
2025/06/13 20:21:40    💸 Spent Amount (expenses only): 42.00 (Bank: 40.00 + Cash: 2.00)
2025/06/13 20:21:40    🏷️ Bills Amount: 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 20:21:40    📊 Combined Expense (expenses + bills): 42.00
2025/06/13 20:21:40    💵 Available Balance: 3208.00 (Income: 3250.00 - Combined Expenses: 42.00)
2025/06/13 20:21:40    📋 Upcoming Bills: 0.00
2025/06/13 20:21:40 💳 Cash/Bank Distribution: Cash=248.00 (7.7%), Bank=2960.00 (92.3%), Total=3208.00
No savings goal found for user 9: sql: no rows in result set
2025/06/13 20:21:40 📊 Balance data found: IncomeBank=3000.00, IncomeCash=250.00, ExpenseBank=40.00, ExpenseCash=2.00, BillBank=0.00, BillCash=0.00, TotalBalance=3208.00
2025/06/13 20:21:40 🧮 Budget calculation breakdown for period monthly, date 2025-06:
2025/06/13 20:21:40    💰 Total Income: 3250.00 (Bank: 3000.00 + Cash: 250.00)
2025/06/13 20:21:40    💸 Spent Amount (expenses only): 42.00 (Bank: 40.00 + Cash: 2.00)
2025/06/13 20:21:40    🏷️ Bills Amount: 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 20:21:40    📊 Combined Expense (expenses + bills): 42.00
2025/06/13 20:21:40    💵 Available Balance: 3208.00 (Income: 3250.00 - Combined Expenses: 42.00)
2025/06/13 20:21:40    📋 Upcoming Bills: 0.00
2025/06/13 20:21:40 💳 Cash/Bank Distribution: Cash=248.00 (7.7%), Bank=2960.00 (92.3%), Total=3208.00
No savings goal found for user 9: sql: no rows in result set
2025/06/13 20:21:40 🔍 fetchUpcomingBills for month: 2025-06
2025/06/13 20:21:40 🔍 Query: 
			SELECT 
				b.id, b.name, b.amount, 
				CASE 
					WHEN b.recurring = 1 THEN 
						strftime('%Y-%m-%d', 
							date('2025-06-01', '+' || (b.payment_day - 1) || ' days'))
					ELSE b.due_date 
				END as calculated_due_date,
				COALESCE(bp.paid, 0) as month_paid, 
				b.overdue, b.overdue_days, b.recurring, b.category, b.icon,
				b.start_date, b.duration_months, b.payment_day
			FROM bills b 
			LEFT JOIN bill_payments bp ON b.id = bp.bill_id AND bp.year_month = '2025-06'
			WHERE b.user_id = ? AND (
			(b.recurring = 1 AND 
			 strftime('%Y-%m', b.start_date) <= ? AND 
			 strftime('%Y-%m', date(b.start_date, '+' || (b.duration_months - 1) || ' months')) >= ?) OR
			(b.recurring = 0 AND strftime('%Y-%m', b.due_date) = ?)
		) 
			ORDER BY COALESCE(bp.paid, 0) ASC, calculated_due_date ASC
2025/06/13 20:21:40 🔍 Args: [9 2025-06 2025-06 2025-06]
2025/06/13 20:21:45 📊 Transaction history retrieved: 5 transactions (incomes + expenses only, bills excluded)
2025/06/13 20:21:45 📊 Transaction history retrieved: 5 transactions (incomes + expenses only, bills excluded)
2025/06/13 20:21:56 📊 Transaction history retrieved: 4 transactions (incomes + expenses only, bills excluded)
2025/06/13 20:21:56 📊 Transaction history retrieved: 4 transactions (incomes + expenses only, bills excluded)
2025/06/13 20:21:56 📊 Transaction history retrieved: 4 transactions (incomes + expenses only, bills excluded)
2025/06/13 20:21:56 📊 Transaction history retrieved: 4 transactions (incomes + expenses only, bills excluded)
2025/06/13 20:21:57 📊 Balance data found: IncomeBank=3000.00, IncomeCash=250.00, ExpenseBank=35.00, ExpenseCash=2.00, BillBank=0.00, BillCash=0.00, TotalBalance=3213.00
2025/06/13 20:21:57 🧮 Budget calculation breakdown for period monthly, date 2025-06:
2025/06/13 20:21:57    💰 Total Income: 3250.00 (Bank: 3000.00 + Cash: 250.00)
2025/06/13 20:21:57    💸 Spent Amount (expenses only): 37.00 (Bank: 35.00 + Cash: 2.00)
2025/06/13 20:21:57    🏷️ Bills Amount: 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 20:21:57    📊 Combined Expense (expenses + bills): 37.00
2025/06/13 20:21:57    💵 Available Balance: 3213.00 (Income: 3250.00 - Combined Expenses: 37.00)
2025/06/13 20:21:57    📋 Upcoming Bills: 0.00
2025/06/13 20:21:57 💳 Cash/Bank Distribution: Cash=248.00 (7.7%), Bank=2965.00 (92.3%), Total=3213.00
No savings goal found for user 9: sql: no rows in result set
2025/06/13 20:21:57 📊 Balance data found: IncomeBank=3000.00, IncomeCash=250.00, ExpenseBank=35.00, ExpenseCash=2.00, BillBank=0.00, BillCash=0.00, TotalBalance=3213.00
2025/06/13 20:21:57 🧮 Budget calculation breakdown for period monthly, date 2025-06:
2025/06/13 20:21:57    💰 Total Income: 3250.00 (Bank: 3000.00 + Cash: 250.00)
2025/06/13 20:21:57    💸 Spent Amount (expenses only): 37.00 (Bank: 35.00 + Cash: 2.00)
2025/06/13 20:21:57    🏷️ Bills Amount: 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 20:21:57    📊 Combined Expense (expenses + bills): 37.00
2025/06/13 20:21:57    💵 Available Balance: 3213.00 (Income: 3250.00 - Combined Expenses: 37.00)
2025/06/13 20:21:57    📋 Upcoming Bills: 0.00
2025/06/13 20:21:57 💳 Cash/Bank Distribution: Cash=248.00 (7.7%), Bank=2965.00 (92.3%), Total=3213.00
No savings goal found for user 9: sql: no rows in result set
2025/06/13 20:21:57 📊 Transaction history retrieved: 4 transactions (incomes + expenses only, bills excluded)
2025/06/13 20:21:57 📊 Transaction history retrieved: 4 transactions (incomes + expenses only, bills excluded)
2025/06/13 20:21:59 🔍 fetchUpcomingBills for month: 2025-06
2025/06/13 20:21:59 🔍 Query: 
			SELECT 
				b.id, b.name, b.amount, 
				CASE 
					WHEN b.recurring = 1 THEN 
						strftime('%Y-%m-%d', 
							date('2025-06-01', '+' || (b.payment_day - 1) || ' days'))
					ELSE b.due_date 
				END as calculated_due_date,
				COALESCE(bp.paid, 0) as month_paid, 
				b.overdue, b.overdue_days, b.recurring, b.category, b.icon,
				b.start_date, b.duration_months, b.payment_day
			FROM bills b 
			LEFT JOIN bill_payments bp ON b.id = bp.bill_id AND bp.year_month = '2025-06'
			WHERE b.user_id = ? AND (
			(b.recurring = 1 AND 
			 strftime('%Y-%m', b.start_date) <= ? AND 
			 strftime('%Y-%m', date(b.start_date, '+' || (b.duration_months - 1) || ' months')) >= ?) OR
			(b.recurring = 0 AND strftime('%Y-%m', b.due_date) = ?)
		) 
			ORDER BY COALESCE(bp.paid, 0) ASC, calculated_due_date ASC
2025/06/13 20:21:59 🔍 Args: [9 2025-06 2025-06 2025-06]
2025/06/13 20:22:42 🔍 fetchUpcomingBills for month: 2025-06
2025/06/13 20:22:42 🔍 Query: 
			SELECT 
				b.id, b.name, b.amount, 
				CASE 
					WHEN b.recurring = 1 THEN 
						strftime('%Y-%m-%d', 
							date('2025-06-01', '+' || (b.payment_day - 1) || ' days'))
					ELSE b.due_date 
				END as calculated_due_date,
				COALESCE(bp.paid, 0) as month_paid, 
				b.overdue, b.overdue_days, b.recurring, b.category, b.icon,
				b.start_date, b.duration_months, b.payment_day
			FROM bills b 
			LEFT JOIN bill_payments bp ON b.id = bp.bill_id AND bp.year_month = '2025-06'
			WHERE b.user_id = ? AND (
			(b.recurring = 1 AND 
			 strftime('%Y-%m', b.start_date) <= ? AND 
			 strftime('%Y-%m', date(b.start_date, '+' || (b.duration_months - 1) || ' months')) >= ?) OR
			(b.recurring = 0 AND strftime('%Y-%m', b.due_date) = ?)
		) 
			ORDER BY COALESCE(bp.paid, 0) ASC, calculated_due_date ASC
2025/06/13 20:22:42 🔍 Args: [9 2025-06 2025-06 2025-06]
2025/06/13 20:22:42 🏠 Bill ID=52, Name=Gym, Month=2025-06, Paid=false
2025/06/13 20:22:42 📅 Bill ID=52 is overdue by 10 days (due: 2025-06-03, now: 2025-06-13)
2025/06/13 20:22:42 📊 Balance data found: IncomeBank=3000.00, IncomeCash=250.00, ExpenseBank=35.00, ExpenseCash=2.00, BillBank=35.00, BillCash=0.00, TotalBalance=3178.00
2025/06/13 20:22:42 🧮 Budget calculation breakdown for period monthly, date 2025-06:
2025/06/13 20:22:42    💰 Total Income: 3250.00 (Bank: 3000.00 + Cash: 250.00)
2025/06/13 20:22:42    💸 Spent Amount (expenses only): 37.00 (Bank: 35.00 + Cash: 2.00)
2025/06/13 20:22:42    🏷️ Bills Amount: 35.00 (Bank: 35.00 + Cash: 0.00)
2025/06/13 20:22:42    📊 Combined Expense (expenses + bills): 72.00
2025/06/13 20:22:42    💵 Available Balance: 3178.00 (Income: 3250.00 - Combined Expenses: 72.00)
2025/06/13 20:22:42    📋 Upcoming Bills: 35.00
2025/06/13 20:22:42 💳 Cash/Bank Distribution: Cash=248.00 (7.8%), Bank=2930.00 (92.2%), Total=3178.00
No savings goal found for user 9: sql: no rows in result set
2025/06/13 20:22:42 📊 Balance data found: IncomeBank=3000.00, IncomeCash=250.00, ExpenseBank=35.00, ExpenseCash=2.00, BillBank=35.00, BillCash=0.00, TotalBalance=3178.00
2025/06/13 20:22:42 🧮 Budget calculation breakdown for period monthly, date 2025-06:
2025/06/13 20:22:42    💰 Total Income: 3250.00 (Bank: 3000.00 + Cash: 250.00)
2025/06/13 20:22:42    💸 Spent Amount (expenses only): 37.00 (Bank: 35.00 + Cash: 2.00)
2025/06/13 20:22:42    🏷️ Bills Amount: 35.00 (Bank: 35.00 + Cash: 0.00)
2025/06/13 20:22:42    📊 Combined Expense (expenses + bills): 72.00
2025/06/13 20:22:42    💵 Available Balance: 3178.00 (Income: 3250.00 - Combined Expenses: 72.00)
2025/06/13 20:22:42    📋 Upcoming Bills: 35.00
2025/06/13 20:22:42 💳 Cash/Bank Distribution: Cash=248.00 (7.8%), Bank=2930.00 (92.2%), Total=3178.00
No savings goal found for user 9: sql: no rows in result set
2025/06/13 20:22:42 🔍 fetchUpcomingBills for month: 2025-06
2025/06/13 20:22:42 🔍 Query: 
			SELECT 
				b.id, b.name, b.amount, 
				CASE 
					WHEN b.recurring = 1 THEN 
						strftime('%Y-%m-%d', 
							date('2025-06-01', '+' || (b.payment_day - 1) || ' days'))
					ELSE b.due_date 
				END as calculated_due_date,
				COALESCE(bp.paid, 0) as month_paid, 
				b.overdue, b.overdue_days, b.recurring, b.category, b.icon,
				b.start_date, b.duration_months, b.payment_day
			FROM bills b 
			LEFT JOIN bill_payments bp ON b.id = bp.bill_id AND bp.year_month = '2025-06'
			WHERE b.user_id = ? AND (
			(b.recurring = 1 AND 
			 strftime('%Y-%m', b.start_date) <= ? AND 
			 strftime('%Y-%m', date(b.start_date, '+' || (b.duration_months - 1) || ' months')) >= ?) OR
			(b.recurring = 0 AND strftime('%Y-%m', b.due_date) = ?)
		) 
			ORDER BY COALESCE(bp.paid, 0) ASC, calculated_due_date ASC
2025/06/13 20:22:42 🔍 Args: [9 2025-06 2025-06 2025-06]
2025/06/13 20:22:42 🏠 Bill ID=52, Name=Gym, Month=2025-06, Paid=false
2025/06/13 20:22:42 📅 Bill ID=52 is overdue by 10 days (due: 2025-06-03, now: 2025-06-13)
2025/06/13 20:23:17 📊 Balance data found: IncomeBank=3000.00, IncomeCash=250.00, ExpenseBank=35.00, ExpenseCash=2.00, BillBank=835.00, BillCash=0.00, TotalBalance=2378.00
2025/06/13 20:23:17 🧮 Budget calculation breakdown for period monthly, date 2025-06:
2025/06/13 20:23:17    💰 Total Income: 3250.00 (Bank: 3000.00 + Cash: 250.00)
2025/06/13 20:23:17    💸 Spent Amount (expenses only): 37.00 (Bank: 35.00 + Cash: 2.00)
2025/06/13 20:23:17    🏷️ Bills Amount: 835.00 (Bank: 835.00 + Cash: 0.00)
2025/06/13 20:23:17    📊 Combined Expense (expenses + bills): 872.00
2025/06/13 20:23:17    💵 Available Balance: 2378.00 (Income: 3250.00 - Combined Expenses: 872.00)
2025/06/13 20:23:17    📋 Upcoming Bills: 835.00
2025/06/13 20:23:17 💳 Cash/Bank Distribution: Cash=248.00 (10.4%), Bank=2130.00 (89.6%), Total=2378.00
No savings goal found for user 9: sql: no rows in result set
2025/06/13 20:23:17 📊 Balance data found: IncomeBank=3000.00, IncomeCash=250.00, ExpenseBank=35.00, ExpenseCash=2.00, BillBank=835.00, BillCash=0.00, TotalBalance=2378.00
2025/06/13 20:23:17 🧮 Budget calculation breakdown for period monthly, date 2025-06:
2025/06/13 20:23:17    💰 Total Income: 3250.00 (Bank: 3000.00 + Cash: 250.00)
2025/06/13 20:23:17    💸 Spent Amount (expenses only): 37.00 (Bank: 35.00 + Cash: 2.00)
2025/06/13 20:23:17    🏷️ Bills Amount: 835.00 (Bank: 835.00 + Cash: 0.00)
2025/06/13 20:23:17    📊 Combined Expense (expenses + bills): 872.00
2025/06/13 20:23:17    💵 Available Balance: 2378.00 (Income: 3250.00 - Combined Expenses: 872.00)
2025/06/13 20:23:17    📋 Upcoming Bills: 835.00
2025/06/13 20:23:17 💳 Cash/Bank Distribution: Cash=248.00 (10.4%), Bank=2130.00 (89.6%), Total=2378.00
No savings goal found for user 9: sql: no rows in result set
2025/06/13 20:23:17 🔍 fetchUpcomingBills for month: 2025-06
2025/06/13 20:23:17 🔍 Query: 
			SELECT 
				b.id, b.name, b.amount, 
				CASE 
					WHEN b.recurring = 1 THEN 
						strftime('%Y-%m-%d', 
							date('2025-06-01', '+' || (b.payment_day - 1) || ' days'))
					ELSE b.due_date 
				END as calculated_due_date,
				COALESCE(bp.paid, 0) as month_paid, 
				b.overdue, b.overdue_days, b.recurring, b.category, b.icon,
				b.start_date, b.duration_months, b.payment_day
			FROM bills b 
			LEFT JOIN bill_payments bp ON b.id = bp.bill_id AND bp.year_month = '2025-06'
			WHERE b.user_id = ? AND (
			(b.recurring = 1 AND 
			 strftime('%Y-%m', b.start_date) <= ? AND 
			 strftime('%Y-%m', date(b.start_date, '+' || (b.duration_months - 1) || ' months')) >= ?) OR
			(b.recurring = 0 AND strftime('%Y-%m', b.due_date) = ?)
		) 
			ORDER BY COALESCE(bp.paid, 0) ASC, calculated_due_date ASC
2025/06/13 20:23:17 🔍 Args: [9 2025-06 2025-06 2025-06]
2025/06/13 20:23:17 🏠 Bill ID=52, Name=Gym, Month=2025-06, Paid=false
2025/06/13 20:23:17 📅 Bill ID=52 is overdue by 10 days (due: 2025-06-03, now: 2025-06-13)
2025/06/13 20:23:17 🏠 Bill ID=53, Name=Alquiler, Month=2025-06, Paid=false
2025/06/13 20:23:17 📅 Bill ID=53 is overdue by 8 days (due: 2025-06-05, now: 2025-06-13)
2025/06/13 20:23:24 🔍 fetchUpcomingBills for month: 2025-06
2025/06/13 20:23:24 🔍 Query: 
			SELECT 
				b.id, b.name, b.amount, 
				CASE 
					WHEN b.recurring = 1 THEN 
						strftime('%Y-%m-%d', 
							date('2025-06-01', '+' || (b.payment_day - 1) || ' days'))
					ELSE b.due_date 
				END as calculated_due_date,
				COALESCE(bp.paid, 0) as month_paid, 
				b.overdue, b.overdue_days, b.recurring, b.category, b.icon,
				b.start_date, b.duration_months, b.payment_day
			FROM bills b 
			LEFT JOIN bill_payments bp ON b.id = bp.bill_id AND bp.year_month = '2025-06'
			WHERE b.user_id = ? AND (
			(b.recurring = 1 AND 
			 strftime('%Y-%m', b.start_date) <= ? AND 
			 strftime('%Y-%m', date(b.start_date, '+' || (b.duration_months - 1) || ' months')) >= ?) OR
			(b.recurring = 0 AND strftime('%Y-%m', b.due_date) = ?)
		) 
			ORDER BY COALESCE(bp.paid, 0) ASC, calculated_due_date ASC
2025/06/13 20:23:24 🔍 Args: [9 2025-06 2025-06 2025-06]
2025/06/13 20:23:24 🏠 Bill ID=52, Name=Gym, Month=2025-06, Paid=false
2025/06/13 20:23:24 📅 Bill ID=52 is overdue by 10 days (due: 2025-06-03, now: 2025-06-13)
2025/06/13 20:23:24 🏠 Bill ID=53, Name=Alquiler, Month=2025-06, Paid=true
2025/06/13 20:23:24 🔍 fetchUpcomingBills for month: 2025-06
2025/06/13 20:23:24 🔍 Query: 
			SELECT 
				b.id, b.name, b.amount, 
				CASE 
					WHEN b.recurring = 1 THEN 
						strftime('%Y-%m-%d', 
							date('2025-06-01', '+' || (b.payment_day - 1) || ' days'))
					ELSE b.due_date 
				END as calculated_due_date,
				COALESCE(bp.paid, 0) as month_paid, 
				b.overdue, b.overdue_days, b.recurring, b.category, b.icon,
				b.start_date, b.duration_months, b.payment_day
			FROM bills b 
			LEFT JOIN bill_payments bp ON b.id = bp.bill_id AND bp.year_month = '2025-06'
			WHERE b.user_id = ? AND (
			(b.recurring = 1 AND 
			 strftime('%Y-%m', b.start_date) <= ? AND 
			 strftime('%Y-%m', date(b.start_date, '+' || (b.duration_months - 1) || ' months')) >= ?) OR
			(b.recurring = 0 AND strftime('%Y-%m', b.due_date) = ?)
		) 
			ORDER BY COALESCE(bp.paid, 0) ASC, calculated_due_date ASC
2025/06/13 20:23:24 🔍 Args: [9 2025-06 2025-06 2025-06]
2025/06/13 20:23:24 🏠 Bill ID=52, Name=Gym, Month=2025-06, Paid=false
2025/06/13 20:23:24 📅 Bill ID=52 is overdue by 10 days (due: 2025-06-03, now: 2025-06-13)
2025/06/13 20:23:24 🏠 Bill ID=53, Name=Alquiler, Month=2025-06, Paid=true
2025/06/13 20:23:24 📊 Balance data found: IncomeBank=3000.00, IncomeCash=250.00, ExpenseBank=835.00, ExpenseCash=2.00, BillBank=35.00, BillCash=0.00, TotalBalance=2378.00
2025/06/13 20:23:24 🧮 Budget calculation breakdown for period monthly, date 2025-06:
2025/06/13 20:23:24    💰 Total Income: 3250.00 (Bank: 3000.00 + Cash: 250.00)
2025/06/13 20:23:24    💸 Spent Amount (expenses only): 837.00 (Bank: 835.00 + Cash: 2.00)
2025/06/13 20:23:24    🏷️ Bills Amount: 35.00 (Bank: 35.00 + Cash: 0.00)
2025/06/13 20:23:24    📊 Combined Expense (expenses + bills): 872.00
2025/06/13 20:23:24    💵 Available Balance: 2378.00 (Income: 3250.00 - Combined Expenses: 872.00)
2025/06/13 20:23:24    📋 Upcoming Bills: 35.00
2025/06/13 20:23:24 💳 Cash/Bank Distribution: Cash=248.00 (10.4%), Bank=2130.00 (89.6%), Total=2378.00
No savings goal found for user 9: sql: no rows in result set
2025/06/13 20:23:24 📊 Balance data found: IncomeBank=3000.00, IncomeCash=250.00, ExpenseBank=835.00, ExpenseCash=2.00, BillBank=35.00, BillCash=0.00, TotalBalance=2378.00
2025/06/13 20:23:24 🧮 Budget calculation breakdown for period monthly, date 2025-06:
2025/06/13 20:23:24    💰 Total Income: 3250.00 (Bank: 3000.00 + Cash: 250.00)
2025/06/13 20:23:24    💸 Spent Amount (expenses only): 837.00 (Bank: 835.00 + Cash: 2.00)
2025/06/13 20:23:24    🏷️ Bills Amount: 35.00 (Bank: 35.00 + Cash: 0.00)
2025/06/13 20:23:24    📊 Combined Expense (expenses + bills): 872.00
2025/06/13 20:23:24    💵 Available Balance: 2378.00 (Income: 3250.00 - Combined Expenses: 872.00)
2025/06/13 20:23:24    📋 Upcoming Bills: 35.00
2025/06/13 20:23:24 💳 Cash/Bank Distribution: Cash=248.00 (10.4%), Bank=2130.00 (89.6%), Total=2378.00
No savings goal found for user 9: sql: no rows in result set
2025/06/13 20:23:24 🔍 fetchUpcomingBills for month: 2025-06
2025/06/13 20:23:24 🔍 Query: 
			SELECT 
				b.id, b.name, b.amount, 
				CASE 
					WHEN b.recurring = 1 THEN 
						strftime('%Y-%m-%d', 
							date('2025-06-01', '+' || (b.payment_day - 1) || ' days'))
					ELSE b.due_date 
				END as calculated_due_date,
				COALESCE(bp.paid, 0) as month_paid, 
				b.overdue, b.overdue_days, b.recurring, b.category, b.icon,
				b.start_date, b.duration_months, b.payment_day
			FROM bills b 
			LEFT JOIN bill_payments bp ON b.id = bp.bill_id AND bp.year_month = '2025-06'
			WHERE b.user_id = ? AND (
			(b.recurring = 1 AND 
			 strftime('%Y-%m', b.start_date) <= ? AND 
			 strftime('%Y-%m', date(b.start_date, '+' || (b.duration_months - 1) || ' months')) >= ?) OR
			(b.recurring = 0 AND strftime('%Y-%m', b.due_date) = ?)
		) 
			ORDER BY COALESCE(bp.paid, 0) ASC, calculated_due_date ASC
2025/06/13 20:23:24 🔍 Args: [9 2025-06 2025-06 2025-06]
2025/06/13 20:23:24 🏠 Bill ID=52, Name=Gym, Month=2025-06, Paid=false
2025/06/13 20:23:24 📅 Bill ID=52 is overdue by 10 days (due: 2025-06-03, now: 2025-06-13)
2025/06/13 20:23:24 🏠 Bill ID=53, Name=Alquiler, Month=2025-06, Paid=true
2025/06/13 20:23:57 📊 Balance data found: IncomeBank=0.00, IncomeCash=0.00, ExpenseBank=0.00, ExpenseCash=0.00, BillBank=835.00, BillCash=0.00, TotalBalance=1543.00
2025/06/13 20:23:57 🧮 Budget calculation breakdown for period monthly, date 2025-07:
2025/06/13 20:23:57    💰 Total Income: 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 20:23:57    💸 Spent Amount (expenses only): 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 20:23:57    🏷️ Bills Amount: 835.00 (Bank: 835.00 + Cash: 0.00)
2025/06/13 20:23:57    📊 Combined Expense (expenses + bills): 835.00
2025/06/13 20:23:57    💵 Available Balance: -835.00 (Income: 0.00 - Combined Expenses: 835.00)
2025/06/13 20:23:57    📋 Upcoming Bills: 835.00
2025/06/13 20:23:57 💳 Cash/Bank Distribution: Cash=248.00 (16.1%), Bank=1295.00 (83.9%), Total=1543.00
No savings goal found for user 9: sql: no rows in result set
2025/06/13 20:23:58 📊 Balance data found: IncomeBank=0.00, IncomeCash=0.00, ExpenseBank=0.00, ExpenseCash=0.00, BillBank=835.00, BillCash=0.00, TotalBalance=1543.00
2025/06/13 20:23:58 🧮 Budget calculation breakdown for period monthly, date 2025-07:
2025/06/13 20:23:58    💰 Total Income: 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 20:23:58    💸 Spent Amount (expenses only): 0.00 (Bank: 0.00 + Cash: 0.00)
2025/06/13 20:23:58    🏷️ Bills Amount: 835.00 (Bank: 835.00 + Cash: 0.00)
2025/06/13 20:23:58    📊 Combined Expense (expenses + bills): 835.00
2025/06/13 20:23:58    💵 Available Balance: -835.00 (Income: 0.00 - Combined Expenses: 835.00)
2025/06/13 20:23:58    📋 Upcoming Bills: 835.00
2025/06/13 20:23:58 💳 Cash/Bank Distribution: Cash=248.00 (16.1%), Bank=1295.00 (83.9%), Total=1543.00
No savings goal found for user 9: sql: no rows in result set
2025/06/13 20:23:58 🔍 fetchUpcomingBills for month: 2025-07
2025/06/13 20:23:58 🔍 Query: 
			SELECT 
				b.id, b.name, b.amount, 
				CASE 
					WHEN b.recurring = 1 THEN 
						strftime('%Y-%m-%d', 
							date('2025-07-01', '+' || (b.payment_day - 1) || ' days'))
					ELSE b.due_date 
				END as calculated_due_date,
				COALESCE(bp.paid, 0) as month_paid, 
				b.overdue, b.overdue_days, b.recurring, b.category, b.icon,
				b.start_date, b.duration_months, b.payment_day
			FROM bills b 
			LEFT JOIN bill_payments bp ON b.id = bp.bill_id AND bp.year_month = '2025-07'
			WHERE b.user_id = ? AND (
			(b.recurring = 1 AND 
			 strftime('%Y-%m', b.start_date) <= ? AND 
			 strftime('%Y-%m', date(b.start_date, '+' || (b.duration_months - 1) || ' months')) >= ?) OR
			(b.recurring = 0 AND strftime('%Y-%m', b.due_date) = ?)
		) 
			ORDER BY COALESCE(bp.paid, 0) ASC, calculated_due_date ASC
2025/06/13 20:23:58 🔍 Args: [9 2025-07 2025-07 2025-07]
2025/06/13 20:23:58 🏠 Bill ID=52, Name=Gym, Month=2025-07, Paid=false
2025/06/13 20:23:58 🏠 Bill ID=53, Name=Alquiler, Month=2025-07, Paid=false
2025/06/13 20:24:37 📊 Transaction history retrieved: 5 transactions (incomes + expenses only, bills excluded)
2025/06/13 20:24:37 📊 Transaction history retrieved: 0 transactions (incomes + expenses only, bills excluded)
2025/06/13 20:24:43 📊 Balance data found: IncomeBank=3000.00, IncomeCash=250.00, ExpenseBank=835.00, ExpenseCash=2.00, BillBank=35.00, BillCash=0.00, TotalBalance=2378.00
2025/06/13 20:24:43 🧮 Budget calculation breakdown for period monthly, date 2025-06:
2025/06/13 20:24:43    💰 Total Income: 3250.00 (Bank: 3000.00 + Cash: 250.00)
2025/06/13 20:24:43    💸 Spent Amount (expenses only): 837.00 (Bank: 835.00 + Cash: 2.00)
2025/06/13 20:24:43    🏷️ Bills Amount: 35.00 (Bank: 35.00 + Cash: 0.00)
2025/06/13 20:24:43    📊 Combined Expense (expenses + bills): 872.00
2025/06/13 20:24:43    💵 Available Balance: 2378.00 (Income: 3250.00 - Combined Expenses: 872.00)
2025/06/13 20:24:43    📋 Upcoming Bills: 35.00
2025/06/13 20:24:43 💳 Cash/Bank Distribution: Cash=248.00 (10.4%), Bank=2130.00 (89.6%), Total=2378.00
No savings goal found for user 9: sql: no rows in result set
2025/06/13 20:24:44 📊 Balance data found: IncomeBank=3000.00, IncomeCash=250.00, ExpenseBank=835.00, ExpenseCash=2.00, BillBank=35.00, BillCash=0.00, TotalBalance=2378.00
2025/06/13 20:24:44 🧮 Budget calculation breakdown for period monthly, date 2025-06:
2025/06/13 20:24:44    💰 Total Income: 3250.00 (Bank: 3000.00 + Cash: 250.00)
2025/06/13 20:24:44    💸 Spent Amount (expenses only): 837.00 (Bank: 835.00 + Cash: 2.00)
2025/06/13 20:24:44    🏷️ Bills Amount: 35.00 (Bank: 35.00 + Cash: 0.00)
2025/06/13 20:24:44    📊 Combined Expense (expenses + bills): 872.00
2025/06/13 20:24:44    💵 Available Balance: 2378.00 (Income: 3250.00 - Combined Expenses: 872.00)
2025/06/13 20:24:44    📋 Upcoming Bills: 35.00
2025/06/13 20:24:44 💳 Cash/Bank Distribution: Cash=248.00 (10.4%), Bank=2130.00 (89.6%), Total=2378.00
No savings goal found for user 9: sql: no rows in result set
2025/06/13 20:24:44 📊 Transaction history retrieved: 5 transactions (incomes + expenses only, bills excluded)
2025/06/13 20:24:44 📊 Transaction history retrieved: 5 transactions (incomes + expenses only, bills excluded)
2025/06/13 20:24:44 📊 Transaction history retrieved: 5 transactions (incomes + expenses only, bills excluded)
2025/06/13 20:24:44 📊 Transaction history retrieved: 5 transactions (incomes + expenses only, bills excluded)
2025/06/13 20:25:05 📊 Balance data found: IncomeBank=3000.00, IncomeCash=250.00, ExpenseBank=835.00, ExpenseCash=2.00, BillBank=35.00, BillCash=0.00, TotalBalance=2378.00
2025/06/13 20:25:05 🧮 Budget calculation breakdown for period monthly, date 2025-06:
2025/06/13 20:25:05    💰 Total Income: 3250.00 (Bank: 3000.00 + Cash: 250.00)
2025/06/13 20:25:05    💸 Spent Amount (expenses only): 837.00 (Bank: 835.00 + Cash: 2.00)
2025/06/13 20:25:05    🏷️ Bills Amount: 35.00 (Bank: 35.00 + Cash: 0.00)
2025/06/13 20:25:05    📊 Combined Expense (expenses + bills): 872.00
2025/06/13 20:25:05    💵 Available Balance: 2378.00 (Income: 3250.00 - Combined Expenses: 872.00)
2025/06/13 20:25:05    📋 Upcoming Bills: 35.00
2025/06/13 20:25:05 💳 Cash/Bank Distribution: Cash=248.00 (10.4%), Bank=2130.00 (89.6%), Total=2378.00
